<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">
    <title>Bottin Annuaire Web Libre 2025 - Version Finale</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="theme-dark">

    <!-- En-t√™te am√©lior√© -->
    <header class="header">
        <div class="container">
            <div class="header-top">
                <h1><i class="fas fa-address-book"></i> Bottin Annuaire Web Libre 2025</h1>
                <p class="subtitle">Annuaire collaboratif des organisations web libres et solidaires - Version Finale</p>
            </div>
            
            <div class="header-stats">
                <div class="header-stat">
                    <span class="stat-number" id="statTotal">0</span>
                    <span class="stat-label">Total</span>
                </div>
                <div class="header-stat">
                    <span class="stat-number" id="statCategories">0</span>
                    <span class="stat-label">Cat√©gories</span>
                </div>
                <div class="header-stat">
                    <span class="stat-number" id="statThemes">0</span>
                    <span class="stat-label">Th√®mes</span>
                </div>
                <div class="header-stat">
                    <span class="stat-number" id="filteredCount">0</span>
                    <span class="stat-label">Filtr√©es</span>
                </div>
            </div>
            
            <div class="controls">
                <div class="search-section">
                    <div class="search-input-wrapper">
                        <i class="fas fa-search"></i>
                        <input id="searchInput" type="text" placeholder="Rechercher organisations...">
                        <button id="btnAdvancedSearch" class="btn btn-secondary btn-with-icon">
                            <i class="fas fa-sliders-h"></i> Avanc√©e
                        </button>
                    </div>
                    <button id="btnClearFilters" class="btn btn-secondary btn-with-icon">
                        <i class="fas fa-times"></i> Effacer filtres
                    </button>
                    <select id="themeSelect" class="theme-select">
                        <option value="theme-dark">üåô Sombre</option>
                        <option value="theme-light">‚òÄÔ∏è Clair</option>
                        <option value="theme-techno">üíª Techno</option>
                        <option value="theme-pastel">üé® Pastel</option>
                        <option value="theme-gradient">üåà Gradient</option>
                        <option value="theme-minimal">‚ö™ Minimal</option>
                        <option value="theme-luxe">üëë Luxe</option>
                        <option value="theme-nature-user">üåø Nature</option>
                        <option value="theme-retro">üìº R√©tro</option>
                        <option value="theme-futuriste">üöÄ Futuriste</option>
                        <option value="theme-original">üîµ Original</option>
                        <option value="theme-verre">üîç Verre Transparent</option>
                        <option value="theme-cyberpunk">üîÆ Cyberpunk N√©on</option>
                        <option value="theme-jeu">üéÆ Jeu Vid√©o</option>
                        <option value="theme-neon">üí° N√©on Simple</option>
                        <option value="theme-cyberpunk-v2">üåå Cyberpunk V2</option>
                        <option value="theme-nature-zen">‚òØÔ∏è Nature Zen</option>
                        <option value="theme-solarise">‚òÄÔ∏è Solaris√©</option>
                        <option value="theme-coucher">üåÖ Coucher de Soleil</option>
                        <option value="theme-pourpre">üëë Pourpre Royal</option>
                        <option value="theme-fete-foraine">üé° F√™te foraine</option>
                    </select>
                </div>
                
                <!-- Recherche avanc√©e -->
                <div id="advancedSearch" class="advanced-search">
                    <h3><i class="fas fa-cogs"></i> Recherche avanc√©e</h3>
                    <p>Filtrer par ann√©e :</p>
                    <div class="quick-dates">
                        <button onclick="filterByDate('2025')" class="btn-small">2025</button>
                        <button onclick="filterByDate('2024')" class="btn-small">2024</button>
                        <button onclick="filterByDate('2023')" class="btn-small">2023</button>
                        <button onclick="filterByDate('2022')" class="btn-small">2022</button>
                        <button onclick="filterByDate('2021')" class="btn-small">2021</button>
                        <button onclick="filterByDate('2020')" class="btn-small">2020</button>
                    </div>
                </div>
                
                <!-- Filtres actifs -->
                <div id="activeFilters" class="active-filters"></div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container two-columns">
            <!-- Colonne principale -->
            <section class="left-column">
                <div class="section-header">
                    <h2><i class="fas fa-list"></i> Organisations & Entreprises</h2>
                    <div class="stats">
                        <span id="filteredCountBadge" class="badge">0 entr√©es</span>
                        <div class="action-buttons">
                            <button id="btnImportJSON" class="btn btn-secondary btn-with-icon">
                                <i class="fas fa-file-import"></i> Import JSON
                            </button>
                            <input type="file" id="jsonFileInput" accept=".json">
                            <button id="btnAddEntry" class="btn btn-secondary btn-with-icon">
                                <i class="fas fa-plus"></i> Ajouter
                            </button>
                            <select id="sortSelect">
                                <option value="name-asc">üî§ A-Z</option>
                                <option value="name-desc">üî§ Z-A</option>
                                <option value="category-asc">üè∑Ô∏è Cat√©gorie A-Z</option>
                                <option value="category-desc">üè∑Ô∏è Cat√©gorie Z-A</option>
                                <option value="date-desc">üìÖ R√©cent</option>
                                <option value="date-asc">üìÖ Ancien</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div id="entriesContainer" class="entries-grid"></div>
            </section>

            <!-- Colonne lat√©rale -->
            <aside class="right-column">
                <section>
                    <h2><i class="fas fa-chart-bar"></i> Top 10 th√©matiques</h2>
                    <div id="themesTop10" class="themes-grid"></div>
                </section>

                <section>
                    <h2><i class="fas fa-tags"></i> Toutes les cat√©gories</h2>
                    <div id="categoriesContainer" class="categories-grid"></div>
                </section>

                <section>
                    <h2><i class="fas fa-palette"></i> Toutes les th√©matiques</h2>
                    <div id="allThemesContainer" class="categories-grid"></div>
                </section>

                <section>
                    <h2><i class="fas fa-database"></i> Gestion des donn√©es</h2>
                    <div class="export-options">
                        <div class="export-row">
                            <label for="datasFormatSelect">Format datas.js:</label>
                            <select id="datasFormatSelect">
                                <option value="compact">Compact</option>
                                <option value="pretty">Lisible</option>
                            </select>
                        </div>
                        <div class="export-buttons">
                            <button id="btnExportJSON" class="btn btn-secondary btn-with-icon">
                                <i class="fas fa-file-export"></i> Export JSON
                            </button>
                            <button id="btnExportFullJSON" class="btn btn-secondary btn-with-icon">
                                <i class="fas fa-file-alt"></i> Export Complet
                            </button>
                            <button id="btnExportDatasJS" class="btn btn-secondary btn-with-icon">
                                <i class="fas fa-file-code"></i> datas.js (V1)
                            </button>
                            <button id="btnExportTopThemes" class="btn btn-secondary btn-with-icon">
                                <i class="fas fa-chart-pie"></i> toptheme.js
                            </button>
                            <button id="btnResetTheme" class="btn btn-secondary btn-with-icon">
                                <i class="fas fa-sync-alt"></i> R√©init. th√®me
                            </button>
                            <button class="btn btn-secondary btn-with-icon" id="btnDownloadAll">
                                <i class="fas fa-download"></i> Tout t√©l√©charger
                            </button>
                            <button class="btn btn-danger btn-with-icon" id="btnResetData">
                                <i class="fas fa-trash-alt"></i> R√©init. donn√©es
                            </button>
                        </div>
                    </div>
                </section>
            </aside>
        </div>
    </main>

    <!-- Bouton retour en haut -->
    <button id="backToTop" class="back-to-top" title="Retour en haut">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Modale pour ajouter/modifier une entr√©e -->
    <div id="addEntryModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">‚ûï Ajouter une nouvelle entr√©e</h2>
                <button id="modalClose" class="modal-close">√ó</button>
            </div>
            <div class="modal-body">
                <form id="entryForm" class="modal-form">
                    <div class="form-group">
                        <label for="entryName">
                            <i class="fas fa-font"></i> Nom de l'organisation *
                        </label>
                        <input type="text" id="entryName" placeholder="Ex: Mon Organisation" required>
                    </div>
                    <div class="form-group">
                        <label for="entryCategory">
                            <i class="fas fa-tag"></i> Cat√©gorie
                        </label>
                        <input type="text" id="entryCategory" placeholder="Ex: Technologie, √âducation, etc.">
                        <small class="form-help">Laisser vide pour "Non cat√©goris√©"</small>
                    </div>
                    <div class="form-group">
                        <label for="entryDescription">
                            <i class="fas fa-align-left"></i> Description
                        </label>
                        <textarea id="entryDescription" placeholder="Description de l'organisation..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="entryUrl">
                            <i class="fas fa-link"></i> URL *
                        </label>
                        <input type="url" id="entryUrl" placeholder="https://example.com" required>
                        <small class="form-help">Doit commencer par http:// ou https://</small>
                    </div>
                    <div class="form-group">
                        <label for="entryDate">
                            <i class="fas fa-calendar-alt"></i> Date (ann√©e)
                        </label>
                        <input type="text" id="entryDate" placeholder="Ex: 2025">
                        <small class="form-help">Laisser vide pour "2025" par d√©faut</small>
                    </div>
                </form>
            </div>
            <div class="form-actions">
                <button type="button" id="cancelEntry" class="btn btn-secondary">Annuler</button>
                <button type="button" id="saveEntry" class="btn">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <h3><i class="fas fa-address-book"></i> Bottin Annuaire Web Libre 2025</h3>
                    <p>Version Finale - 21 th√®mes CSS optimis√©s</p>
                    <p class="footer-note">
                        <i class="fas fa-info-circle"></i> 
                        Les donn√©es sont stock√©es localement dans votre navigateur. 
                        Pensez √† exporter vos donn√©es r√©guli√®rement.
                    </p>
                </div>
                <div class="footer-links">
                    <p><i class="fas fa-code"></i> D√©velopp√© avec HTML, CSS et JavaScript</p>
                    <p><i class="fas fa-heart"></i> Projet ouvert et participatif</p>
                </div>
            </div>
        </div>
    </footer>
    <script src="datas.js"></script>
    <script src="app.js"></script>
</body>
</html>